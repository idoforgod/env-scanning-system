# pSRT (predicted Signal Reliability Test) 설정
# 환경스캐닝 자체 신뢰 평가 척도

version: "1.0"
created: "2026-01-12"

# 종합 pSRT 가중치
overall_weights:
  source_pSRT: 0.20      # 소스 신뢰도
  signal_pSRT: 0.35      # 신호 신뢰도 (가장 중요)
  analysis_pSRT: 0.25    # 분석 신뢰도
  report_pSRT: 0.20      # 보고서 신뢰도

# Source pSRT 계산 설정
source_pSRT:
  description: "이 정보 출처를 얼마나 신뢰할 수 있는가?"
  weights:
    authority: 0.30           # 출처 권위성
    verifiability: 0.25       # 검증 가능성
    historical_accuracy: 0.25 # 역사적 정확성
    cross_validation: 0.20    # 교차 검증

  # 권위성 점수 기준 (Tier 기반)
  authority_scores:
    tier_1: 100  # 학술/정부/공식
    tier_2: 75   # 주요 언론/분석 기관
    tier_3: 50   # 전문 매체/지역 언론
    tier_4: 25   # 블로그/트렌드 사이트
    unknown: 10  # 출처 불명

  # 검증 가능성 점수 기준
  verifiability_scores:
    full_verification: 100     # 원본 링크 + 인용 추적 가능
    partial_verification: 70   # 원본 링크만 존재
    indirect_verification: 40  # 2차 소스 통해 확인
    no_verification: 10        # 검증 불가

# Signal pSRT 계산 설정
signal_pSRT:
  description: "이 신호가 실제 변화의 징후인가, 노이즈/할루시네이션인가?"
  weights:
    specificity: 0.25      # 구체성
    freshness: 0.20        # 신선도
    independence: 0.20     # 독립성
    measurability: 0.20    # 측정 가능성
    pattern_fit: 0.15      # 패턴 일치

  # 구체성 평가 기준
  specificity_criteria:
    has_date: 20           # 구체적 날짜 포함
    has_numbers: 20        # 수치 데이터 포함
    has_actors: 20         # 행위자 명시
    has_location: 20       # 지역/장소 명시
    has_mechanism: 20      # 작동 메커니즘 설명

  # 신선도 계산 (시간 기반)
  freshness_decay:
    within_24h: 100
    within_48h: 85
    within_72h: 70
    within_7d: 50
    within_30d: 30
    older: 10

  # 독립성 평가
  independence_criteria:
    unique_source: 40        # 단독 소스에서 발견
    unique_angle: 30         # 새로운 관점/분석
    not_derivative: 30       # 다른 기사 재탕 아님

# Analysis pSRT 계산 설정
analysis_pSRT:
  description: "분류/영향도/우선순위 분석이 얼마나 정확한가?"
  weights:
    classification_clarity: 0.25    # 분류 명확성
    impact_evidence: 0.30           # 영향도 근거
    priority_consistency: 0.25      # 우선순위 일관성
    comparative_validation: 0.20    # 비교 검증

  # 분류 명확성 기준
  classification_clarity_criteria:
    single_primary_category: 40      # 명확한 주 카테고리
    logical_secondary: 30            # 논리적인 부 카테고리
    tag_relevance: 30                # 태그의 적절성

  # 영향도 근거 기준
  impact_evidence_criteria:
    explicit_mechanism: 40           # 영향 메커니즘 명시
    quantifiable_impact: 30          # 정량화 가능한 영향
    precedent_reference: 30          # 선례/근거 참조

# Report pSRT 계산 설정
report_pSRT:
  description: "최종 보고서의 전체적 신뢰성은 어느 정도인가?"
  weights:
    avg_signal_pSRT: 0.35         # 신호 품질 평균
    source_diversity: 0.20        # 소스 다양성
    internal_consistency: 0.25    # 내부 일관성
    coverage_balance: 0.20        # 커버리지 균형

  # 소스 다양성 평가
  source_diversity_criteria:
    tier_diversity: 30            # Tier 분포
    region_diversity: 25          # 지역 분포
    type_diversity: 25            # 유형 분포 (학술/뉴스/보고서)
    language_diversity: 20        # 언어 분포

  # STEEPS 커버리지 균형 목표
  coverage_balance_targets:
    Social: 0.15
    Technological: 0.25
    Economic: 0.20
    Environmental: 0.15
    Political: 0.15
    Spiritual: 0.10

# 할루시네이션 탐지 설정
hallucination_detection:
  enabled: true

  # 탐지 규칙
  rules:
    source_hallucination:
      condition: "url_verification_failed"
      severity: "critical"
      action: "remove"

    signal_fabrication_risk:
      condition: "specificity < 30 AND independence < 40"
      severity: "high"
      action: "verify"

    overinterpretation:
      condition: "significance >= 4 AND impact_evidence < 40"
      severity: "medium"
      action: "downgrade"

    temporal_confusion:
      condition: "freshness < 30"
      severity: "medium"
      action: "verify_date"

    vague_signal:
      condition: "specificity < 30"
      severity: "medium"
      action: "verify"

    duplicate_risk:
      condition: "independence < 30"
      severity: "low"
      action: "review"

    low_source_quality:
      condition: "source_score < 50 AND significance >= 4"
      severity: "medium"
      action: "verify"

# 자동 조치 임계값
auto_actions:
  # 보고서에서 제외
  exclude_threshold: 40

  # "참고용" 표시
  reference_only_threshold: 50

  # "추가 검증 필요" 표시
  verification_needed_threshold: 60

  # 자동 승인 가능
  auto_approve_threshold: 70

  # Critical 플래그 시 즉시 검토
  critical_flag_action: "immediate_review"

# 등급 체계
grade_system:
  A_plus:
    range: [90, 100]
    label: "Very High Confidence"
    color: "#00C851"
    action: "즉시 활용 가능"

  A:
    range: [80, 89]
    label: "High Confidence"
    color: "#33B5E5"
    action: "활용 권장"

  B:
    range: [70, 79]
    label: "Good Confidence"
    color: "#2BBBAD"
    action: "활용 가능, 모니터링 권장"

  C:
    range: [60, 69]
    label: "Moderate Confidence"
    color: "#FFBB33"
    action: "추가 검증 후 활용"

  D:
    range: [50, 59]
    label: "Low Confidence"
    color: "#FF8800"
    action: "교차 검증 필수"

  E:
    range: [40, 49]
    label: "Very Low Confidence"
    color: "#FF4444"
    action: "참고용으로만 사용"

  F:
    range: [0, 39]
    label: "Unreliable"
    color: "#CC0000"
    action: "제외 권고"

# 시각화 설정
visualization:
  # 진행바 스타일
  progress_bar:
    filled_char: "█"
    empty_char: "░"
    width: 25

  # 색상 코딩 (터미널용)
  colors:
    very_high: "green"
    high: "cyan"
    good: "blue"
    moderate: "yellow"
    low: "orange"
    very_low: "red"
    unreliable: "dark_red"

# 피드백 루프 설정
feedback_loop:
  enabled: true

  # pSRT 정확도 추적
  accuracy_tracking:
    enabled: true
    review_after_days: 30
    metrics:
      - "predicted_vs_actual_significance"
      - "flag_accuracy"
      - "grade_stability"

  # pSRT 모델 자체 개선
  self_improvement:
    enabled: true
    adjust_weights_after_reviews: 10
    minimum_data_points: 50
